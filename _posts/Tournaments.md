---
title: Tournaments
toc: true
date: 2019-01-18 19:53:42
tags: [Graph Theory]
categories: 
- Graph Theory
- Chapter 02  Subgraphs
mathjax: true
---

竞赛图(tournaments)是一类特殊的有向图，它具有许多基本且重要的性质。本文主要将叙述竞赛图中的几个重要性质。

------

## 定义

> 有向完全图称为**竞赛图**，即对于图中任意一对节点 $u,v$，要么存在边 $(u,v)$，要么存在边 $(v,u)$ 。

------

## 得分序列(Score Sequence)

> 竞赛图 $\mathcal{G}$ 中节点 $i$ 的入度记为 $d^{-}_i$，出度记为 $d^{+}_j$。节点 $i$ 的出度又可称为点 $i$ 的得分 。那么，图 $G$ 的**得分序列** 为 $(d^{+}_1, d^{+}_2, ..., d^{+}_n)$ 。
> 不失一般性，我们可将节点按得分升序排序，使得 $d^{+}_1 \le d^{+}_2 \le ... \le d^{+}_n$ 。

### 定理 1

> 非负整数序列 $s_1 \le s_2 \le ... \le s_n$ 是一个图的得分序列，当且仅当其满足：
> $$
> \sum_{i=1}^{n} s_i = \frac{1}{2} n (n-1)\tag{1}
> $$
> 且对于任意正整数 $k < n$，以下不等式成立：
> $$
> \sum_{i=1}^{k} s_i \ge \frac{1}{2} k(k-1)\tag{2}
> $$
>

**证明：** 充分性的证明过于繁琐，在此省略，详见Landau在1953年的论文。以下只证明必要性。
因为竞赛图是完全图，所以 $\sum_{i=1}^{n} s_i = m = \frac{1}{2} n(n-1)$，等式(1)成立。
注意到对于任意整数 $k < n$，子竞赛图 $v_1,v_2,...v_k$ 恰好包含 $\frac{1}{2} k(k-1)$ 条边。因此，对于整个竞赛图，$\sum_{i=1}^{k} s_i \ge \frac{1}{2} k(k-1)$，等式(2)成立。


若竞赛图中存在一个节点的出度为 $n-1$，即存在它指向其他所有节点的边，则称该节点为源点(transmitter)。显然，源点到其他节点的距离均为 $1$ 。然而并不是所有的竞赛图都存在源点，但是下面的定理保证了所有的竞赛图都存在性质稍差的节点。


### 定理 2

> 竞赛图中出度最大的节点到其他节点的距离不超过 $2$ 。

**证明：** 记图中出度最大的点为 $v$，其出度为 $s$ 。记点 $v$ 指向的点为 $v_1,v_2,...,v_s$。若存在点 $u$，$v$ 到 $u$ 的距离为 $3$，那么 $u$ 与 $v_i$ 之间的边由 $u$ 指向 $v_i$ 。而因为 $v$ 到 $u$ 的距离不为 $1$，所以存在 $u$ 指向 $v$ 的边。因此， $d^{+}_u \ge s+1 > s$，与 $v$ 出度最大矛盾。


对于不存在源点的竞赛图，满足如上性质的点至少有 $3$ 个，下面的定理给出了证明。


### 定理 3

> 在没有源点的竞赛图中，至少存在三个节点，它们到其他节点的距离不超过 $2$ 。

**证明：** 令点 $u$ 为图中出度最大的点，由定理2，点 $u$ 到其他节点的距离不超过 $2$ 。因为图中不存在源点，所以至少存在一个节点指向点 $u$，令点 $v$ 为这些节点中出度最大的点，则 $v$ 到其他节点的距离都不超过 $2$ 。若存在点 $v_0$，点 $v$ 到点 $v_0$ 的距离为 $3$，则点 $v_0$ 指向所有 $v$ 指向的节点，故有 $d^{+}_{v_0} \ge d^{+}_v + 1$ 。因为存在 $v$ 指向 $u$ 的边，所以也有 $v_0$ 指向 $u$ 的边。因此，这与 $v$ 是指向 $u$ 的节点中出度最大的矛盾。
同理，令 $w$ 为所有指向 $v$ 的节点中出度最大的，则 $w$ 到其他节点的距离也不超过 $2$ 。而因为 $w$ 是指向 $v$ 的，所以必有 $w \neq u$ 。故节点 $u,v,w$ 即为所求。

------

接下来，我们给出竞赛图最广为人知的一个性质，它由Rédei首先提出。事实上，Rédei还说明了竞赛图中必有奇数条哈密尔顿路。

### 定理 4

> 任意竞赛图中都存在哈密尔顿路。

**证明：** 只需证明任意竞赛图中存在长度为 $n$ 的路。对路径长度进行归纳。
当 $n =2$ 时，结论显然成立。
假设图中存在长度为 $k$ 的路径 $v_1,v_2,...,v_k$，下证存在长度为 $k+1$ 的路径。取图中任意不在该路径上的节点 $u$，
Case 1：若存在边 $(u,v_1)$，则路径 $u,v_1,v_2,...,v_k$ 即为所求。
Case 2：若存在边 $(v_k,u)$，则路径 $v_1,v_2,...,v_k,u$ 即为所求。
Case 3：若Case 1与Case 2均不成立，则路径上既存在指向 $u$ 的节点，又存在 $u$ 指向的界定啊。因此，必存在正整数 $i < k$，使得存在边 $v_{i-1},u$ 与 $u,v_i$ 。则路径 $v_1,v_2,...,v_{i-1},u,v_i,...,v_k$ 即为所求。
由数学归纳法可知，任意竞赛图中存在哈密尔顿路径。

------

## 传递性(Transitivity)

> 若对于竞赛图中任意一对边 $(u,v)，(v,w)$，都存在边 $(u,w)$，则称该竞赛图是传递的。其中，$(u,v,w)$ 称作一个传递三元组。

传递性是一个重要的概念。满足传递性的竞赛图可以对应一个全序关系，亦可以由此得到竞赛的排名。关于传递性的等价定义，可参考如下定理：


### 定理 5

> 对于 $n$ 个节点的竞赛图 $\mathcal{T}$，下列命题等价：
> (1) $\mathcal{T}$ 是传递的
> (2) $\mathcal{T}$ 是无环的
> (3) $\mathcal{T}$ 有唯一的哈密尔顿路
> (4) $\mathcal{T}$ 的得分序列为 $(0,1,2,...,n-1)$
> (5) $\mathcal{T}$ 中存在 $\frac{n(n-1)(n-2)}{6}$ 个传递三元组。


若三元组 $(u,v,w)$ 满足传递性，则称其为传递三元组(transitive triples)。不满足传递性的三元组，恰形成长度为 $3$ 的环，故称其为环三元组(cyclic triples)。易知，传递三元组是最小的满足传递性的竞赛图，而竞赛图中传递三元组的数量也可作为衡量该图传递性的一个指标。

竞赛图中传递三元组与环三元组的数量可由图的得分序列直接推出，有如下定理：


### 定理 6

> 竞赛图 $T$ 的得分序列为 $(s_1,s_2,...s,_n)$，则其中传递三元组的数量 $b$ 为
> $$
> b = \sum_{i=1}^{n} \frac{1}{2} s_i(s_i-1) = \frac{1}{2} \sum_{i=1}^{n}s^2_i - \frac{1}{4} n(n-1)
> $$
>

**证明：** 对于节点 $i$，$\frac{1}{2} s_i(s_i-1)$ 表示它指向的节点中任取两个的方案数。无论这两个节点之间的边方向如何，都会形成一个传递三元组。而每个传递三元组只会在该三元组的源点处被统计一次，所以第一个等号成立。通过简单的代数化简可知，第二个等号成立。


因为图中三元组的总数目为 $\frac{n(n-1)(n-2)}{6}$，所以有如下推论：

### 推论 6a

> 竞赛图 $T$ 的得分序列为 $(s_1,s_2,...s,_n)$，则其中环三元组的数量 $c$ 为
> $$
> c = \frac{n(n-1)(n-2)}{6} - \frac{1}{2} \sum_{i=1}^{n} s_i(s_i-1)
> $$
>

下面的推论给出了竞赛图中环三元组的最大数量：

### 推论 6b

> 所有 $n$ 个节点的竞赛图汇总，环三元组的最大数目为
> $$ c_{max}(n)=\begin{cases}
\frac{n^3-n}{24} & n是奇数 \\
\frac{n^3-4n}{24} & n是偶数 
\end{cases}$$

Kendall与Babington Smith提出了使用环三元组来衡量图的传递性的参数：

$$
\xi = 1 - \frac{c}{c_max(n)}
$$

若竞赛图满足传递性，则 $\xi = 1$；若竞赛图中的环三元组数量最多，则 $\xi = 0$ 。

------

## 参考资料
> - Bondy, John Adrian, and Uppaluri Siva Ramachandra Murty. *Graph theory with applications*. Vol. 290. London: Macmillan, 1976.
> - Harary, Frank , and L. Moser . "The Theory of Round Robin Tournaments." *American Mathematical Monthly*73.3(1966):231-246.
